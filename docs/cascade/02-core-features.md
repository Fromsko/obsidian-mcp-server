# 第二章：核心功能详解

## 2.1 模型选择和管理

### 可用模型
- **SWE-1.5**: Windsurf 的专有模型，速度极快（950 tok/s）
- **swe-grep**: 专门用于代码搜索的模型
- **SWE-1**: 基础软件工程模型
- **BYOK**: 自带密钥选项
- **第三方模型**: GPT-4o、Claude 3.5 Sonnet

### 模型选择策略
```markdown
# 根据任务类型选择模型
- 简单问答 → Base Model ⚡
- 复杂编程 → Windsurf Premier 🚀
- 代码搜索 → swe-grep
- 特定需求 → BYOK 或第三方模型
```

## 2.2 代码模式 vs 聊天模式

### 代码模式特性
- 直接修改代码库
- 创建新文件
- 重构现有代码
- 运行测试
- 安装依赖

### 聊天模式特性
- 回答编程问题
- 解释代码概念
- 提供最佳实践建议
- 代码审查
- 技术讨论

### 模式切换
```
顶部模式切换器:
[Code] [Chat]
```

## 2.3 计划和待办事项列表

### 自动规划机制
- 专门的规划代理持续完善长期计划
- 选定模型专注于基于计划的短期行动
- 自动创建待办事项列表跟踪进度

### 计划更新方式
1. **手动更新**: 直接要求 Cascade 更新计划
2. **自动更新**: 基于新信息（如记忆）自动调整

### 待办事项示例
```markdown
## 待办事项列表
- [x] 分析现有代码结构
- [x] 设计新功能架构
- [ ] 实现核心逻辑
- [ ] 编写单元测试
- [ ] 更新文档
```

## 2.4 排队消息系统

### 队列操作
- **添加消息**: 在 Cascade 工作时输入消息并按 `Enter`
- **立即发送**: 在空文本框中再次按 `Enter`
- **删除消息**: 在发送前删除队列中的消息

### 队列管理界面
```
消息队列:
1. [待发送] 优化性能
2. [待发送] 添加错误处理
3. [当前] 正在生成代码...
```

## 2.5 工具调用系统

### 内置工具
- **搜索**: 在代码库中搜索相关内容
- **分析**: 分析代码结构和依赖
- **网络搜索**: 搜索在线资源
- **MCP**: 模型上下文协议工具
- **终端**: 执行命令行操作

### 工具调用限制
- 每个提示最多 20 次工具调用
- 超出限制时使用 `continue` 按钮
- 可配置自动继续功能

### 工具调用示例
```python
# Cascade 可以自动检测和安装依赖
import requests  # 自动安装 requests 库
import pandas as pd  # 自动安装 pandas 库

def fetch_data(url):
    response = requests.get(url)
    return response.json()
```

## 2.6 语音输入功能

### 语音输入设置
1. 点击麦克风图标
2. 授权麦克风访问
3. 开始语音输入
4. 自动转录为文本

### 支持的语言
- 英语
- 中文（普通话）
- 日语
- 韩语
- 欧洲主要语言

## 2.7 检查点和恢复系统

### 检查点类型
- **自动检查点**: 每个重要步骤自动创建
- **命名检查点**: 用户手动创建的命名快照

### 恢复操作
1. **鼠标悬停**: 悬停在原始提示上，点击恢复箭头
2. **目录恢复**: 从目录直接恢复
3. **命名检查点**: 导航到特定命名检查点

### 恢复注意事项
⚠️ **警告**: 恢复操作目前不可逆，请谨慎操作！

## 2.8 实时感知功能

### 感知内容
- 实时编辑操作
- 文件更改
- 终端命令
- 浏览器活动
- 剪贴板内容

### 使用方法
```
用户: "继续"
Cascade: [基于最近的操作继续工作]
```

### 感知优势
- 减少重复提示
- 保持上下文连续性
- 提高工作效率

## 2.9 问题发送功能

### 发送方式
1. **问题面板**: 点击问题面板中的"发送到 Cascade"按钮
2. **自动 @ 提及**: 问题会自动作为 @ 提及发送

### 支持的问题类型
- 语法错误
- 类型错误
- 导入错误
- 运行时错误
- 代码警告

### 错误处理流程
```
错误检测 → 发送到 Cascade → 分析 → 修复建议 → 应用修复
```

## 2.10 解释和修复功能

### 使用步骤
1. **高亮错误**: 选择代码中的错误
2. **点击按钮**: 点击"解释和修复"按钮
3. **等待分析**: Cascade 分析错误原因
4. **应用修复**: 接受或拒绝修复建议

### 修复能力
- 语法错误修复
- 逻辑错误调试
- 性能优化建议
- 代码重构
- 安全漏洞修复

## 2.11 文件忽略系统

### 配置方法
在项目根目录创建 `.codeiumignore` 文件：

```
# .codeiumignore
node_modules/
*.log
.env
dist/
build/
*.min.js
```

### 忽略规则
- 支持 glob 模式
- 类似 `.gitignore` 语法
- 防止 Cascade 查看、编辑或创建指定路径中的文件

### 全局忽略
```bash
# 全局 .codeiumignore 位置
~/.codeium/.codeiumignore
```

## 2.12 Linter 集成

### 支持的 Linters
- ESLint
- Pylint
- Black
- Prettier
- RuboCop
- GoFmt

### 自动修复
- Cascade 可以自动修复它创建的 lint 错误
- 修复操作可能免费（不计入信用额度）
- 可配置自动修复行为

---

*本章详细介绍了 Cascade 的核心功能，为高效使用奠定了基础。*
